(function () {var k,j={};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,n){"object"==(void 0===j?"undefined":E(j))?j=n():"function"==typeof k&&k.amd?k(n):t.dayjs=n()}(j,function(){var t="millisecond",n="second",e="minute",r="hour",i="day",s="week",u="month",o="quarter",a="year",f=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},$={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+c(r,2,"0")+":"+c(i,2,"0")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:u,y:a,w:s,d:i,D:"date",h:r,m:e,s:n,ms:t,Q:o}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l="en",y={};y[l]=d;var m=function(t){return t instanceof g},v=function(t,n,e){var r;if(!t)return l;if("string"==typeof t)y[t]&&(r=t),n&&(y[t]=n,r=t);else{var i=t.name;y[i]=t,r=i}return!e&&r&&(l=r),r||!e&&l},p=function(t,n,e){if(m(t))return t.clone();var r=n?"string"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new g(r)},M=$;M.l=v,M.i=m,M.w=function(t,n){return p(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var g=function(){function c(t){this.$L=this.$L||v(t.locale,null,!0),this.parse(t)}var $=c.prototype;return $.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(M.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(f);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return M},$.isValid=function(){return!("Invalid Date"===this.$d.toString())},$.isSame=function(t,n){var e=p(t);return this.startOf(n)<=e&&e<=this.endOf(n)},$.isAfter=function(t,n){return p(t)<this.startOf(n)},$.isBefore=function(t,n){return this.endOf(n)<p(t)},$.$g=function(t,n,e){return M.u(t)?this[n]:this.set(e,t)},$.year=function(t){return this.$g(t,"$y",a)},$.month=function(t){return this.$g(t,"$M",u)},$.day=function(t){return this.$g(t,"$W",i)},$.date=function(t){return this.$g(t,"$D","date")},$.hour=function(t){return this.$g(t,"$H",r)},$.minute=function(t){return this.$g(t,"$m",e)},$.second=function(t){return this.$g(t,"$s",n)},$.millisecond=function(n){return this.$g(n,"$ms",t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,o){var f=this,h=!!M.u(o)||o,c=M.p(t),$=function(t,n){var e=M.w(f.$u?Date.UTC(f.$y,n,t):new Date(f.$y,n,t),f);return h?e:e.endOf(i)},d=function(t,n){return M.w(f.toDate()[t].apply(f.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(n)),f)},l=this.$W,y=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case a:return h?$(1,0):$(31,11);case u:return h?$(1,y):$(0,y+1);case s:var p=this.$locale().weekStart||0,g=(l<p?l+7:l)-p;return $(h?m-g:m+(6-g),y);case i:case"date":return d(v+"Hours",0);case r:return d(v+"Minutes",1);case e:return d(v+"Seconds",2);case n:return d(v+"Milliseconds",3);default:return this.clone();}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,o){var f,h=M.p(s),c="set"+(this.$u?"UTC":""),$=(f={},f[i]=c+"Date",f.date=c+"Date",f[u]=c+"Month",f[a]=c+"FullYear",f[r]=c+"Hours",f[e]=c+"Minutes",f[n]=c+"Seconds",f[t]=c+"Milliseconds",f)[h],d=h===i?this.$D+(o-this.$W):o;if(h===u||h===a){var l=this.clone().set("date",1);l.$d[$](d),l.init(),this.$d=l.set("date",Math.min(this.$D,l.daysInMonth())).toDate()}else $&&this.$d[$](d);return this.init(),this},$.set=function(t,n){return this.clone().$set(t,n)},$.get=function(t){return this[M.p(t)]()},$.add=function(t,o){var f,h=this;t=Number(t);var c=M.p(o),$=function(n){var e=p(h);return M.w(e.date(e.date()+Math.round(n*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return $(1);if(c===s)return $(7);var d=(f={},f[e]=6e4,f[r]=36e5,f[n]=1e3,f)[c]||1,l=this.$d.getTime()+t*d;return M.w(l,this)},$.subtract=function(t,n){return this.add(-1*t,n)},$.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,f=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},$=function(t){return M.s(s%12||12,t,"0")},d=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:M.s(o+1,2,"0"),MMM:c(i.monthsShort,o,f,3),MMMM:f[o]||f(this,e),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:M.s(s,2,"0"),h:$(1),hh:$(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:M.s(u,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:r};return e.replace(h,function(t,n){return n||l[t]||r.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,$=M.p(f),d=p(t),l=6e4*(d.utcOffset()-this.utcOffset()),y=this-d,m=M.m(this,d);return m=(c={},c[a]=m/12,c[u]=m,c[o]=m/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[e]=y/6e4,c[n]=y/1e3,c)[$]||y,h?m:M.a(m)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return y[this.$L]},$.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=v(t,n,!0);return r&&(e.$L=r),e},$.clone=function(){return M.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},c}();return p.prototype=g.prototype,p.extend=function(t,n){return t(n,g,p),p},p.locale=v,p.isDayjs=m,p.unix=function(t){return p(1e3*t)},p.en=y[l],p.Ls=y,p});var z={},F=[{label:"Good",color:"#009900",range:{pm25:[0,30],pm10:[0,50],so2:[0,40],no:[0,40],nox:[0,40],no2:[0,40],o3:[0,50],co:[0,1],aqi:[0,50]}},{label:"Satisfactory",color:"#59B300",range:{pm25:[30,60],pm10:[50,100],so2:[40,80],no:[40,80],nox:[40,80],no2:[40,80],o3:[50,100],co:[1,2],aqi:[50,100]}},{label:"Moderately Polluted",color:"#DFDF31",range:{pm25:[60,90],pm10:[100,250],so2:[80,380],no:[80,180],nox:[80,180],no2:[80,180],o3:[100,168],co:[2,10],aqi:[100,200]}},{label:"Poor",color:"#E68A00",range:{pm25:[90,120],pm10:[250,350],so2:[380,800],no:[180,280],nox:[180,280],no2:[180,280],o3:[168,280],co:[10,17],aqi:[200,300]}},{label:"Very Poor",color:"#E82C0C",range:{pm25:[120,250],pm10:[350,430],so2:[800,1600],no:[280,400],nox:[280,400],no2:[280,400],o3:[280,400],co:[17,34],aqi:[300,400]}},{label:"Severe",color:"#A52A2A",range:{pm25:[250,1e3],pm10:[430,1e3],so2:[1600,2e3],no:[400,1e3],nox:[400,1e3],no2:[400,1e3],o3:[400,1e3],co:[34,50],aqi:[400,500]}}],G={pm25:24,pm10:24,so2:24,nox:24,o3:8,co:8};z={BANDS:F,HOUR_DIFF:G};var q={};function A(r){return J(r)||I(r)||D(r)||H()}function H(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function J(r){if(Array.isArray(r))return w(r)}function B(r,t){return N(r)||L(r,t)||D(r,t)||K()}function K(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(r,t){if(r){if("string"==typeof r)return w(r,t);var a=Object.prototype.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(r,t):void 0}}function w(r,t){(null==t||t>r.length)&&(t=r.length);for(var a=0,e=new Array(t);a<t;a++)e[a]=r[a];return e}function L(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var a=[],e=!0,$=!1,n=void 0;try{for(var c,o=r[Symbol.iterator]();!(e=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);e=!0);}catch(i){$=!0,n=i}finally{try{e||null==o.return||o.return()}finally{if($)throw n}}return a}}function N(r){if(Array.isArray(r))return r}var b=z.BANDS,x=z.HOUR_DIFF,O=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!Object.keys(x).includes(t))return null;var a=j(),e=x[t],$=r.filter(function(r){var t=r.datetime;return r.value&&a.diff(j(t),"hours")<e});if($.length<=0)return null;var n=$.reduce(function(r,t){return r+t.value},0)/$.length,c=b.findIndex(function(r){return r.range[t][1]>=n});if(c<0){var o=b.length-1,i=b[o].range.aqi[1],u=b[o].range[t][1];return i/u*(n-u)+i}var l=B(b[c].range.aqi,2),v=l[0],y=l[1],C=B(b[c].range[t],2),Q=C[0];return(y-v)/(C[1]-Q)*(n-Q)+v},P=function(r){if(!Array.isArray(r)||0===r.length)return null;var t=r.reduce(function(r,t){return Object.keys(x).map(function(a){var e={datetime:t.datetime,value:t[a]};r[a]=r[a]?[].concat(A(r[a]),[e]):[e]}),r},{}),a=Object.keys(t).map(function(r){return O(t[r],r)}).filter(function(r){return r});if(0===a.length)return null;var e=Math.max.apply(Math,A(a));return Math.round(e)};q=P;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=q}else if(typeof define==="function"&&define.amd){define(function(){return q})}else{this["calculateAQI"]=q}})();